# 페이징과 세그먼테이션

### 메모리 관리 기법

연속 메모리 관리와 불연속 메모리 관리로 나뉜다.

</br>

#### 연속 메모리 관리

프로그램 전체가 하나의 공간에 연속적으로 할당되어야 한다.

- 고정 분할 기법 : 메모리가 고정된 파티션으로 분할되며 내부 단편화가 발생한다.
- 동적 분할 기법 : 파티션들이 동적 생성되며 자신의 크기와 같은 파티션에 적재된다. 외부 단편화가 발생한다.

</br>

</br>

#### 불연속 메모리 관리 

프로그램의 일부가 서로 다른 주소 공간에 할당될 수 있는 기법이다.

- 페이지 : 프로세스를 고정된 크기의 작은 블록들로 나누었을 때, 그 블록들을 페이지라고 한다.

- 프레임 : 페이지 크기와 같은 주기억장치 메모리 조각
- 단편화 : 기억 장치의 빈 공간 or 자료가 여러 조각으로 나뉘는 현상
- 세그먼트 : 서로 다른 크기의 논리적 단위

</br>

</br>

### 가상 메모리 (Virtual Memory)

실제 메모리 크기와 상관 없이 메모리를 사용할 수 있도록 가상 메모리 주소를 사용하는 것이다. 프로세스 일부분만 메모리에 로드하고, 나머지는 보조 기억 장치 (가상 메모리 공간)에 둔다. MMU를 통해 논리 주소, 물리 주소를 나누어 사용한다.

> MMU : 가상 주소를 실제 메모리 주소로 변환해주는 장치

#### 장점

- 실제 메모리 (RAM) 보다 더 큰 공간을 사용할 수 있다.
- 가상의 주소를 사용하여 논리적인 연속성을 제공한다.

</br>

</br>

### 메모리 단편화 (Memory Framentation)

메모리 공간이 조각으로 나뉘게 되어 실제로는 사용가능한 메모리가 충분히 존재하지만 할당이 불가능한 상태를 의미한다. 외부 단편화와 내부 단편화가 있다.

#### 내부 단편화

메모리를 할당할 때, 프로세스가 필요한 양보다 더 큰 메모리가 할당되어서 프로세스에서 사용하는 메모리 공간이 낭비되는 상황

> 프로그램에 OS가 10MB 만큼의 메모리를 할당하였지만 실제로는 6MB 만큼의 메모리만 사용하는 경우 -> 4MB 만큼 내부 단편화 발생

#### 외부 단편화

할당된 메모리와 메모리 사이에 사용하지 않는 작은 메모리가 생겨서 총 메모리 공간은 충분하지만 실제로는 할당할 수 없는 상황

</br>

</br>

### 페이징 (Paging)

가상 메모리를 관리하는 기법 중 하나이다. 

- 논리 메모리는 페이지(Page)라 불리는 고정 크기의 블록으로 나누어지고, 물리 메모리는 프레임(Frame)이라 불리는 블록들로 나누어진다.
- 페이지 테이블에는 각 페이지 번호와 그에 해당하는 프레임의 시작 물리 주소를 저장한다.
- 프레임의 정수 배로 할당되는데, 이 때 프로세스가 페이지 경계와 일치하지 않는 크기의 메모리를 요구하면 마지막 페이지 프레임은 전부 사용되지 않고 남아있게 된다. (내부 단편화)
- 외부 단편화 문제를 해결할 수 있지만 내부 단편화 문제가 발생한다는 단점이 있다. 

</br>

</br>

### 세그먼테이션 (Segmentation)

가상 메모리를 관리하는 기법 중 하나이다.

- 사용자/프로그래머 관점의 메모리 관리 기법
- 프로세스를 논리적 내용을 기반(가변적 크기) 으로 나누어서 메모리에 배치한다.
- 세그먼트 테이블은 세그먼트 번호와 시작 주소, 세그먼트 크기를 가진다.
- 내부 단편화 문제를 해결할 수 있지만 외부 단편화 문제가 발생한다는 단점이 있다.