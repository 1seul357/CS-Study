# Key

### 🗝 Key

키는 데이터베이스에서 데이터의 사용 및 관계 표현에 가장 중요한 개념이다. 검색, 정렬 시 튜플을 구분할 수 있는 기준이 되는 속성 (Attribute) 이다.

</br>

</br>

### 후보키 (Candidate Key)

튜플을 유일하게 식별하기 위해 사용하는 속성들의 부분 집합이다. 후보키는 기본키로 사용할 수 있는 속성들이다. 슈퍼키 중에서 최소의 속성으로 집합된 것이 후보키가 된다.

두가지 조건을 만족해야 한다.

- 유일성 : Key로 하나의 튜플을 유일하게 식별할 수 있다.
- 최소성 : 꼭 필요한 속성으로만 구성되어야 한다.

| 학번 |    주민번호    |  이름  | 나이 |
| :--: | :------------: | :----: | :--: |
|  1   | 920903-8888888 | 김철수 |  31  |
|  2   | 930222-7777777 | 김영희 |  30  |
|  3   | 950707-9999999 | 김영수 |  28  |

- 학번과 주민번호는 단 한 개의 속성으로 3명을 구분할 수 있기 때문에 후보키가 될 수 있다.
- 이름 + 나이의 조합은 두개의 속성이므로 최소성을 만족하지 않는다. 그러므로 후보키가 될 수 없다.

</br>

</br>

### 기본키 (Primary Key)

후보키 중 선택한 Main Key이다. 후보키가 하나뿐이라면 그 후보키를 기본키로 사용하고, 여러 개라면 릴레이션의 특성을 반영하여 하나를 선택하면 된다. 

- 기본키는 Null 값을 가질 수 없다.
- 동일한 값이 중복될 수 없다.
- 릴레이션 내 튜플을 식별할 수 있는 고유한 값을 가져야 한다.

| 학번 |    주민번호    |  이름  | 나이 |
| :--: | :------------: | :----: | :--: |
|  1   | 920903-8888888 | 김철수 |  31  |
|  2   | 930222-7777777 | 김영희 |  30  |
|  3   | 950707-9999999 | 김영수 |  28  |

- 위의 표에서는 학번과 주민번호를 기본키로 설정할 수 있다.

</br>

</br>

### 대체키 (Alternate Key)

후보키 중 기본키를 제외한 나머지 키가 대체키이다. 후보키가 두 개 이상일 경우 그 중에서 어느 하나를 기본키로 지정하고 남은 후보키를 대체키라고 한다.

| 학번 |    주민번호    |  이름  | 나이 |
| :--: | :------------: | :----: | :--: |
|  1   | 920903-8888888 | 김철수 |  31  |
|  2   | 930222-7777777 | 김영희 |  30  |
|  3   | 950707-9999999 | 김영수 |  28  |

후보키로 학번과 주민번호가 될 수 있는데, 기본키가 학번이라면 주민번호는 대체키가 된다. 만약 한번 기본키가 없어지게 되면 주민번호는 기본키가 될 수 있다.

</br>

</br>

### 슈퍼키 (Super Key)

슈퍼키는 튜플을 유일하게 식별할 수 있는 하나의 속성 혹은 속성의 집합이다. 유일성은 만족하지만 최소성은 만족하지 못하는 키이다.

| 학번 |    주민번호    |  이름  | 나이 |
| :--: | :------------: | :----: | :--: |
|  1   | 920903-8888888 | 김철수 |  31  |
|  2   | 930222-7777777 | 김영희 |  30  |
|  3   | 950707-9999999 | 김영수 |  28  |

- 학번 + 이름의 조합, 이름 + 나이의 조합 등이 겹치지 않는다면 슈퍼키가 될 수 있다.
- 어떤 속성끼리 묶던 중복값이 나오지 않고, 서로 구분할 수 있다면 슈퍼키이다.

</br>

</br>

### 외래키 (Foreign Key)

다른 릴레이션의 기본키를 그대로 참조하는 속성의 집합이다. 다른 릴레이션의 기본키를 참조하여 관계 데이터 모델의 특징인 릴레이션 간의 관계를 표현한다. 외래키가 성립하기 위해 참조하고, 참조되는 양쪽 릴레이션의 도메인이 서로 같아야 한다. 또한 참조되고 있는 릴레이션의 기본키 값이 변경되면 이 기본키를 참조하는 외래키 값도 변경되어야 한다.

- Null 값과 중복 값이 허용된다.
- 관계 데이터 모델의 릴레이션 간의 관계를 표현한다.

| 학번 |    주민번호    |  성명  |
| :--: | :------------: | :----: |
| A11  | 920903-8888888 | 김철수 |
| A12  | 930222-7777777 | 김영희 |
| A13  | 950707-9999999 | 김영수 |

| 학번 | 과목명 |
| :--: | :----: |
| A11  |  영어  |
| A12  |  수학  |
| A13  |  국어  |

- 학생 테이블은 학번이 기본키이나 참조되는 키이다.
- 수강 테이블은 학번이 외래키이다.